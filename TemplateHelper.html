<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: TemplateHelper
  
    &mdash; Documentation by YARD 0.9.8
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "TemplateHelper";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index (T)</a> &raquo;
    
    
    <span class="title">TemplateHelper</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: TemplateHelper
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">TemplateHelper</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>/Users/jeremy/.puppetlabs/etc/code/modules/strings/lib/puppet_x/puppetlabs/strings/yard/templates/default/template_helper.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>A class containing helper methods to aid in the extraction of relevant data
from comments and YARD tags</p>


  </div>
</div>
<div class="tags">
  

</div>






  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#check_parameters_match_docs-instance_method" title="#check_parameters_match_docs (instance method)">#<strong>check_parameters_match_docs</strong>(object)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Check that the actual function parameters match what is stated in the docs.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#check_types_match_docs-instance_method" title="#check_types_match_docs (instance method)">#<strong>check_types_match_docs</strong>(object, params_hash)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Check that any types specified in the docstrings match the actual method
types.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#comment_only_param_details-instance_method" title="#comment_only_param_details (instance method)">#<strong>comment_only_param_details</strong>(param_tags)  &#x21d2; Hash </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Generates parameter information in situations where the information can
only come from YARD tags in the comments, not from the code itself.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#extract_param_details-instance_method" title="#extract_param_details (instance method)">#<strong>extract_param_details</strong>(parameters, tags_hash, fq_name = false)  &#x21d2; Hash </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Given the parameter information and YARD param tags, extracts the useful
information and returns it as an array of hashes which can be printed and
formatted as HTML.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#extract_tag_data-instance_method" title="#extract_tag_data (instance method)">#<strong>extract_tag_data</strong>(object)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Extracts data from comments which include the supported YARD tags.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="check_parameters_match_docs-instance_method">
  
    #<strong>check_parameters_match_docs</strong>(object)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Check that the actual function parameters match what is stated in the docs.
If there is a mismatch, print a warning to stderr. This is necessary for
puppet classes and defined types. This type of warning will be issued for
ruby code by the ruby docstring parser.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>object</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the code object to examine for parameters names</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jeremy/.puppetlabs/etc/code/modules/strings/lib/puppet_x/puppetlabs/strings/yard/templates/default/template_helper.rb', line 170</span>

<span class='kw'>def</span> <span class='id identifier rubyid_check_parameters_match_docs'>check_parameters_match_docs</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_param_tags'>param_tags</span> <span class='op'>=</span> <span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_tags'>tags</span><span class='period'>.</span><span class='id identifier rubyid_find_all'>find_all</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_tag'>tag</span><span class='op'>|</span> <span class='id identifier rubyid_tag'>tag</span><span class='period'>.</span><span class='id identifier rubyid_tag_name'>tag_name</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>param</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_names'>names</span> <span class='op'>=</span> <span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_parameters'>parameters</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_l'>l</span><span class='op'>|</span> <span class='id identifier rubyid_l'>l</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\W</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_locations'>locations</span> <span class='op'>=</span> <span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_files'>files</span>
  <span class='id identifier rubyid_param_tags'>param_tags</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_tag'>tag</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_names'>names</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_tag'>tag</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_locations'>locations</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&gt;=</span> <span class='int'>1</span> <span class='kw'>and</span> <span class='id identifier rubyid_locations'>locations</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>==</span> <span class='int'>2</span>
        <span class='id identifier rubyid_file_name'>file_name</span> <span class='op'>=</span> <span class='id identifier rubyid_locations'>locations</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_line_number'>line_number</span> <span class='op'>=</span> <span class='id identifier rubyid_locations'>locations</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span>
        <span class='gvar'>$stderr</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='heredoc_beg'>&lt;&lt;-EOS</span>
<span class='tstring_content'>[warn]: The parameter </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tag'>tag</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> is documented, but doesn&#39;t exist in
  your code, in file </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_file_name'>file_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> near line </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_line_number'>line_number</span><span class='embexpr_end'>}</span><span class='tstring_content'>.
</span><span class='heredoc_end'>EOS
</span>      <span class='kw'>else</span>
        <span class='gvar'>$stderr</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='heredoc_beg'>&lt;&lt;-EOS</span>
<span class='tstring_content'>[warn]: The parameter </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tag'>tag</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> is documented, but doesn&#39;t exist in
  your code. Sorry, the file and line number could not be determined.
</span><span class='heredoc_end'>EOS
</span>      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="check_types_match_docs-instance_method">
  
    #<strong>check_types_match_docs</strong>(object, params_hash)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Check that any types specified in the docstrings match the actual method
types. This is used by puppet 4x functions and defined types.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>object</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the code object to examine for parameters names</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jeremy/.puppetlabs/etc/code/modules/strings/lib/puppet_x/puppetlabs/strings/yard/templates/default/template_helper.rb', line 111</span>

<span class='kw'>def</span> <span class='id identifier rubyid_check_types_match_docs'>check_types_match_docs</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_params_hash'>params_hash</span><span class='rparen'>)</span>
  <span class='comment'># We&#39;ll need this to extract type info from the type specified by the
</span>  <span class='comment'># docstring.
</span>  <span class='id identifier rubyid_type_parser'>type_parser</span> <span class='op'>=</span> <span class='const'>Puppet</span><span class='op'>::</span><span class='const'>Pops</span><span class='op'>::</span><span class='const'>Types</span><span class='op'>::</span><span class='const'>TypeParser</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='id identifier rubyid_type_calculator'>type_calculator</span> <span class='op'>=</span> <span class='const'>Puppet</span><span class='op'>::</span><span class='const'>Pops</span><span class='op'>::</span><span class='const'>Types</span><span class='op'>::</span><span class='const'>TypeCalculator</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

  <span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_type_info'>type_info</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_function'>function</span><span class='op'>|</span>
    <span class='id identifier rubyid_function'>function</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_function'>function</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='op'>==</span> <span class='const'>String</span>
        <span class='kw'>begin</span>
          <span class='id identifier rubyid_instantiated'>instantiated</span> <span class='op'>=</span> <span class='id identifier rubyid_type_parser'>type_parser</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span> <span class='id identifier rubyid_function'>function</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span>
        <span class='kw'>rescue</span> <span class='const'>Puppet</span><span class='op'>::</span><span class='const'>ParseError</span>
          <span class='comment'># Likely the result of a malformed type
</span>          <span class='kw'>next</span>
        <span class='kw'>end</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_instantiated'>instantiated</span> <span class='op'>=</span> <span class='id identifier rubyid_function'>function</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_params_hash'>params_hash</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_param'>param</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_param'>param</span><span class='lbracket'>[</span><span class='symbol'>:name</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='id identifier rubyid_key'>key</span> <span class='kw'>and</span> <span class='id identifier rubyid_param'>param</span><span class='lbracket'>[</span><span class='symbol'>:types</span><span class='rbracket'>]</span> <span class='op'>!=</span> <span class='kw'>nil</span>
          <span class='id identifier rubyid_param'>param</span><span class='lbracket'>[</span><span class='symbol'>:types</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_type'>type</span><span class='op'>|</span>
            <span class='id identifier rubyid_param_instantiated'>param_instantiated</span> <span class='op'>=</span> <span class='id identifier rubyid_type_parser'>type_parser</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span> <span class='id identifier rubyid_type'>type</span>
            <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_type_calculator'>type_calculator</span><span class='period'>.</span><span class='id identifier rubyid_assignable?'>assignable?</span> <span class='id identifier rubyid_instantiated'>instantiated</span><span class='comma'>,</span> <span class='id identifier rubyid_param_instantiated'>param_instantiated</span>
              <span class='id identifier rubyid_actual_types'>actual_types</span> <span class='op'>=</span> <span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_type_info'>type_info</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_sig'>sig</span><span class='op'>|</span>
                <span class='id identifier rubyid_sig'>sig</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='kw'>if</span> <span class='id identifier rubyid_sig'>sig</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span>
              <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span>
              <span class='comment'># Get the locations where the object can be found. We only care about
</span>              <span class='comment'># the first one.
</span>              <span class='id identifier rubyid_locations'>locations</span> <span class='op'>=</span> <span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_files'>files</span>
              <span class='id identifier rubyid_warning'>warning</span> <span class='op'>=</span> <span class='heredoc_beg'>&lt;&lt;-EOS</span>
<span class='tstring_content'>[warn]: @param tag types do not match the code. The </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_param'>param</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>
  parameter is declared as types </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_param'>param</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_types'>types</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'> in the docstring,
  but the code specifies the types </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_actual_types'>actual_types</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='heredoc_end'> EOS
</span>
              <span class='comment'># If the locations aren&#39;t in the shape we expect then report that
</span>              <span class='comment'># the file number couldn&#39;t be determined.
</span>              <span class='kw'>if</span> <span class='id identifier rubyid_locations'>locations</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&gt;=</span> <span class='int'>1</span> <span class='kw'>and</span> <span class='id identifier rubyid_locations'>locations</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>==</span> <span class='int'>2</span>
                <span class='id identifier rubyid_file'>file</span> <span class='op'>=</span> <span class='id identifier rubyid_locations'>locations</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
                <span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='id identifier rubyid_locations'>locations</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span>
                <span class='id identifier rubyid_warning'>warning</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>    in the file </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_file'>file</span><span class='embexpr_end'>}</span><span class='tstring_content'> near line </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_line'>line</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span>
              <span class='kw'>else</span>
                <span class='id identifier rubyid_warning'>warning</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>    Sorry, the file and line number could </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span>
                           <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>not be determined.</span><span class='tstring_end'>&quot;</span></span>
              <span class='kw'>end</span>
              <span class='gvar'>$stderr</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_warning'>warning</span>
            <span class='kw'>end</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="comment_only_param_details-instance_method">
  
    #<strong>comment_only_param_details</strong>(param_tags)  &#x21d2; <tt>Hash</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Generates parameter information in situations where the information can
only come from YARD tags in the comments, not from the code itself. For now
the only use for this is 3x functions. In this case exists? will always be
true since we cannot verify if the parameter exists in the code itself. We
must trust the user to provide information in the comments that is
accurate.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>param_tags</span>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>parameter details obtained from comments</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The relevant information about each parameter with the following
keys/values: =&gt; [String] The name of the parameter  :desc =&gt;
[String] The description provided in the comment  :types =&gt; [Array] The
parameter type(s) specified in the comment  :exists =&gt; [Boolean] True
only if the parameter exists in the documented logic and not just in a
comment  :puppet_3_func =&gt; [Boolean] Are these parameters for a puppet 3
function? (relevant in HTML generation)</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


96
97
98
99
100
101
102
103
104
105
106</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jeremy/.puppetlabs/etc/code/modules/strings/lib/puppet_x/puppetlabs/strings/yard/templates/default/template_helper.rb', line 96</span>

<span class='kw'>def</span> <span class='id identifier rubyid_comment_only_param_details'>comment_only_param_details</span><span class='lparen'>(</span><span class='id identifier rubyid_param_tags'>param_tags</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_param_tags'>param_tags</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_parameter_info'>parameter_info</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_param_tags'>param_tags</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_tag'>tag</span><span class='op'>|</span>
    <span class='id identifier rubyid_parameter_info'>parameter_info</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='symbol'>:name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_tag'>tag</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='symbol'>:desc</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_tag'>tag</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='symbol'>:types</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_tag'>tag</span><span class='period'>.</span><span class='id identifier rubyid_types'>types</span><span class='comma'>,</span> <span class='symbol'>:exists?</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='symbol'>:puppet_3_func</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_parameter_info'>parameter_info</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="extract_param_details-instance_method">
  
    #<strong>extract_param_details</strong>(parameters, tags_hash, fq_name = false)  &#x21d2; <tt>Hash</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Given the parameter information and YARD param tags, extracts the useful
information and returns it as an array of hashes which can be printed and
formatted as HTML</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>parameters</span>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>parameter details obtained programmatically</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>tags_hash</span>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>parameter details obtained from comments</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>fq_name</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>does this parameter have a fully qualified name?</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The relevant information about each parameter with the following
keys/values: =&gt; [String] The name of the parameter  :fq_name
=&gt; [String] The fully qualified parameter name  :desc =&gt; [String] The
description provided in the comment  :types =&gt; [Array] The parameter
type(s) specified in the comment  :exists =&gt; [Boolean] True only if the
parameter exists in the documented logic and not just in a comment</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jeremy/.puppetlabs/etc/code/modules/strings/lib/puppet_x/puppetlabs/strings/yard/templates/default/template_helper.rb', line 39</span>

<span class='kw'>def</span> <span class='id identifier rubyid_extract_param_details'>extract_param_details</span><span class='lparen'>(</span><span class='id identifier rubyid_parameters'>parameters</span><span class='comma'>,</span> <span class='id identifier rubyid_tags_hash'>tags_hash</span><span class='comma'>,</span> <span class='id identifier rubyid_fq_name'>fq_name</span> <span class='op'>=</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_parameter_info'>parameter_info</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

  <span class='comment'># Extract the information for parameters that exist
</span>  <span class='comment'># as opposed to parameters that are defined only in the comments
</span>  <span class='id identifier rubyid_parameters'>parameters</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_param'>param</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_fq_name'>fq_name</span>
      <span class='id identifier rubyid_param_name'>param_name</span> <span class='op'>=</span> <span class='id identifier rubyid_param'>param</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_fully_qualified_name'>fully_qualified_name</span> <span class='op'>=</span> <span class='id identifier rubyid_param'>param</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_param_name'>param_name</span> <span class='op'>=</span> <span class='id identifier rubyid_param'>param</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_param_tag'>param_tag</span> <span class='op'>=</span> <span class='id identifier rubyid_tags_hash'>tags_hash</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_tag'>tag</span><span class='op'>|</span> <span class='id identifier rubyid_tag'>tag</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='id identifier rubyid_param_name'>param_name</span> <span class='rbrace'>}</span>

    <span class='id identifier rubyid_description'>description</span> <span class='op'>=</span> <span class='id identifier rubyid_param_tag'>param_tag</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>?</span> <span class='kw'>nil</span> <span class='op'>:</span> <span class='id identifier rubyid_param_tag'>param_tag</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span>
    <span class='id identifier rubyid_param_types'>param_types</span> <span class='op'>=</span> <span class='id identifier rubyid_param_tag'>param_tag</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>?</span> <span class='kw'>nil</span> <span class='op'>:</span> <span class='id identifier rubyid_param_tag'>param_tag</span><span class='period'>.</span><span class='id identifier rubyid_types'>types</span>

    <span class='id identifier rubyid_param_details'>param_details</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='symbol'>:name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_param_name'>param_name</span><span class='comma'>,</span> <span class='symbol'>:desc</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_description'>description</span><span class='comma'>,</span> <span class='symbol'>:types</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_param_types'>param_types</span><span class='comma'>,</span> <span class='symbol'>:exists?</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rbrace'>}</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_fq_name'>fq_name</span>
      <span class='id identifier rubyid_param_details'>param_details</span><span class='lbracket'>[</span><span class='symbol'>:fq_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_fully_qualified_name'>fully_qualified_name</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_parameter_info'>parameter_info</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_param_details'>param_details</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Check if there were any comments for parameters that do not exist
</span>  <span class='id identifier rubyid_tags_hash'>tags_hash</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_tag'>tag</span><span class='op'>|</span>
    <span class='id identifier rubyid_param_exists'>param_exists</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='id identifier rubyid_parameter_info'>parameter_info</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_parameter'>parameter</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_parameter'>parameter</span><span class='lbracket'>[</span><span class='symbol'>:name</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='id identifier rubyid_tag'>tag</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
        <span class='id identifier rubyid_param_exists'>param_exists</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_param_exists'>param_exists</span>
      <span class='id identifier rubyid_parameter_info'>parameter_info</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='symbol'>:name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_tag'>tag</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='symbol'>:desc</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_tag'>tag</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='symbol'>:types</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_tag'>tag</span><span class='period'>.</span><span class='id identifier rubyid_types'>types</span><span class='comma'>,</span> <span class='symbol'>:exists?</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_parameter_info'>parameter_info</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="extract_tag_data-instance_method">
  
    #<strong>extract_tag_data</strong>(object)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Extracts data from comments which include the supported YARD tags</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jeremy/.puppetlabs/etc/code/modules/strings/lib/puppet_x/puppetlabs/strings/yard/templates/default/template_helper.rb', line 7</span>

<span class='kw'>def</span> <span class='id identifier rubyid_extract_tag_data'>extract_tag_data</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_examples'>examples</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='id identifier rubyid_example_tags'>example_tags</span> <span class='op'>=</span> <span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_tags'>tags</span><span class='period'>.</span><span class='id identifier rubyid_find_all'>find_all</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_tag'>tag</span><span class='op'>|</span> <span class='id identifier rubyid_tag'>tag</span><span class='period'>.</span><span class='id identifier rubyid_tag_name'>tag_name</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>example</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_example_tags'>example_tags</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_example'>example</span><span class='op'>|</span>
    <span class='id identifier rubyid_examples'>examples</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_example'>example</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_example'>example</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_return_tag'>return_tag</span> <span class='op'>=</span> <span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_tags'>tags</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_tag'>tag</span><span class='op'>|</span> <span class='id identifier rubyid_tag'>tag</span><span class='period'>.</span><span class='id identifier rubyid_tag_name'>tag_name</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>return</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_return_text'>return_text</span> <span class='op'>=</span> <span class='id identifier rubyid_return_tag'>return_tag</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>?</span> <span class='kw'>nil</span> <span class='op'>:</span> <span class='id identifier rubyid_return_tag'>return_tag</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span>
  <span class='id identifier rubyid_return_types'>return_types</span> <span class='op'>=</span> <span class='id identifier rubyid_return_tag'>return_tag</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>?</span> <span class='kw'>nil</span> <span class='op'>:</span> <span class='id identifier rubyid_return_tag'>return_tag</span><span class='period'>.</span><span class='id identifier rubyid_types'>types</span>
  <span class='id identifier rubyid_return_details'>return_details</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_return_text'>return_text</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_return_types'>return_types</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='kw'>nil</span> <span class='op'>:</span> <span class='lbracket'>[</span><span class='id identifier rubyid_return_text'>return_text</span><span class='comma'>,</span> <span class='id identifier rubyid_return_types'>return_types</span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_since_tag'>since_tag</span> <span class='op'>=</span> <span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_tags'>tags</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_tag'>tag</span><span class='op'>|</span> <span class='id identifier rubyid_tag'>tag</span><span class='period'>.</span><span class='id identifier rubyid_tag_name'>tag_name</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>since</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_since_text'>since_text</span> <span class='op'>=</span> <span class='id identifier rubyid_since_tag'>since_tag</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>?</span> <span class='kw'>nil</span> <span class='op'>:</span> <span class='id identifier rubyid_since_tag'>since_tag</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span>

  <span class='lbrace'>{</span><span class='symbol'>:name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='symbol'>:desc</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_docstring'>docstring</span><span class='comma'>,</span> <span class='symbol'>:examples</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_examples'>examples</span><span class='comma'>,</span> <span class='symbol'>:since</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_since_text'>since_text</span><span class='comma'>,</span> <span class='symbol'>:return</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_return_details'>return_details</span><span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Fri Jan 20 16:38:49 2017 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.8 (ruby-2.3.1).
</div>

    </div>
  </body>
</html>